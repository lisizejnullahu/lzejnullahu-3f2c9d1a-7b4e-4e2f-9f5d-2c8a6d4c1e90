[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m dashboard [39m[27m[0m [2mapps/dashboard/src/app/core/services/[22m[1mtasks-store.service.spec.ts[22m
  [1m‚óè [22mTest suite failed to run

    [96mapps/dashboard/src/app/core/services/tasks-store.service.spec.ts[0m:[93m3[0m:[93m29[0m - [91merror[0m[90m TS2305: [0mModule '"./tasks-store.service"' has no exported member 'Task'.

    [7m3[0m import { TasksStoreService, Task } from './tasks-store.service'
    [7m [0m [91m                            ~~~~[0m
    [96mapps/dashboard/src/app/core/services/tasks-store.service.spec.ts[0m:[93m8[0m:[93m29[0m - [91merror[0m[90m TS2694: [0mNamespace 'jasmine' has no exported member 'SpyObj'.

    [7m8[0m   let tasksService: jasmine.SpyObj<TasksService>
    [7m [0m [91m                            ~~~~~~[0m
    [96mapps/dashboard/src/app/core/services/tasks-store.service.spec.ts[0m:[93m53[0m:[93m60[0m - [91merror[0m[90m TS2694: [0mNamespace 'jasmine' has no exported member 'SpyObj'.

    [7m53[0m     tasksService = TestBed.inject(TasksService) as jasmine.SpyObj<TasksService>
    [7m  [0m [91m                                                           ~~~~~~[0m
    [96mapps/dashboard/src/app/core/services/tasks-store.service.spec.ts[0m:[93m151[0m:[93m42[0m - [91merror[0m[90m TS2322: [0mType '"TODO"' is not assignable to type 'TaskStatus | undefined'.

    [7m151[0m         .createTask({ title: 'New Task', status: 'TODO' })
    [7m   [0m [91m                                         ~~~~~~[0m

      [96mlibs/data/src/lib/dtos.ts[0m:[93m38[0m:[93m3[0m
        [7m38[0m   status: TaskStatus
        [7m  [0m [96m  ~~~~~~[0m
        The expected type comes from property 'status' which is declared here on type 'Partial<TaskResponseDto>'

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m dashboard [39m[27m[0m [2mapps/dashboard/src/app/features/dashboard/[22m[1mdashboard.component.spec.ts[22m
  [1m‚óè [22mTest suite failed to run

    [96mapps/dashboard/src/app/features/dashboard/dashboard.component.spec.ts[0m:[93m14[0m:[93m29[0m - [91merror[0m[90m TS2694: [0mNamespace 'jasmine' has no exported member 'SpyObj'.

    [7m14[0m   let tasksService: jasmine.SpyObj<TasksService>
    [7m  [0m [91m                            ~~~~~~[0m
    [96mapps/dashboard/src/app/features/dashboard/dashboard.component.spec.ts[0m:[93m79[0m:[93m60[0m - [91merror[0m[90m TS2694: [0mNamespace 'jasmine' has no exported member 'SpyObj'.

    [7m79[0m     tasksService = TestBed.inject(TasksService) as jasmine.SpyObj<TasksService>
    [7m  [0m [91m                                                           ~~~~~~[0m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m dashboard [39m[27m[0m [2mapps/dashboard/src/app/core/services/[22m[1mauth.service.spec.ts[22m ([0m[1m[41m8.733 s[49m[22m[0m)
  [1m‚óè [22mConsole

    [2m[31mconsole.error[39m[22m
[31m      Error: Uncaught [Error: [2mexpect([22m[31mreceived[39m[31m[2m).[22mtoBeTruthy[2m()[22m[39m
[31m      [39m
[31m      Received: [31mnull[39m[31m][39m
[31m          at reportException (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)[39m
[31m          at Timeout.task [as _onTimeout] (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:525:9)[39m
[31m          at listOnTimeout (node:internal/timers:605:17)[39m
[31m          at processTimers (node:internal/timers:541:7) {[39m
[31m        detail: JestAssertionError: [2mexpect([22m[31mreceived[39m[31m[2m).[22mtoBeTruthy[2m()[22m[39m
[31m        [39m
[31m        Received: [31mnull[39m[31m[39m
[31m            at Object.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/apps/dashboard/src/app/core/services/auth.service.spec.ts:49:28)[39m
[31m            at ConsumerObserver.Object.<anonymous>.ConsumerObserver.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:155:25)[39m
[31m            at SafeSubscriber.Object.<anonymous>.Subscriber._next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:113:22)[39m
[31m            at SafeSubscriber.Object.<anonymous>.Subscriber.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:71:12)[39m
[31m            at /Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/tap.ts:190:26[39m
[31m            at OperatorSubscriber._this._next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)[39m
[31m            at OperatorSubscriber.Object.<anonymous>.Subscriber.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:71:12)[39m
[31m            at /Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/map.ts:57:20[39m
[31m            at OperatorSubscriber._this._next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)[39m
[31m            at OperatorSubscriber.Object.<anonymous>.Subscriber.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:71:12)[39m
[31m            at /Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/filter.ts:72:109[39m
[31m            at OperatorSubscriber._this._next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)[39m
[31m            at OperatorSubscriber.Object.<anonymous>.Subscriber.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:71:12)[39m
[31m            at /Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/mergeInternals.ts:85:24[39m
[31m            at OperatorSubscriber._this._next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:70:13)[39m
[31m            at OperatorSubscriber.Object.<anonymous>.Subscriber.next (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/rxjs/src/internal/Subscriber.ts:71:12)[39m
[31m            at TestRequest.flush (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/@angular/common/fesm2022/http/testing.mjs:74:27)[39m
[31m            at /Users/lisizejnullahu/Documents/GitHub/secure-task-managment/apps/dashboard/src/app/core/services/auth.service.spec.ts:59:9[39m
[31m            at _ZoneDelegate.invoke (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/zone.js/bundles/zone.umd.js:416:32)[39m
[31m            at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/zone.js/bundles/zone-testing.umd.js:2176:43)[39m
[31m            at _ZoneDelegate.invoke (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/zone.js/bundles/zone.umd.js:415:38)[39m
[31m            at ZoneImpl.run (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/zone.js/bundles/zone.umd.js:147:47)[39m
[31m            at Object.wrappedFunc (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/zone.js/bundles/zone-testing.umd.js:450:38)[39m
[31m            at Promise.then.completed (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/utils.js:290:26)[39m
[31m            at new Promise (<anonymous>)[39m
[31m            at callAsyncCircusFn (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/utils.js:231:10)[39m
[31m            at _callCircusTest (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/run.js:316:40)[39m
[31m            at processTicksAndRejections (node:internal/process/task_queues:103:5)[39m
[31m            at _runTest (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/run.js:252:3)[39m
[31m            at _runTestsForDescribeBlock (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/run.js:126:9)[39m
[31m            at _runTestsForDescribeBlock (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/run.js:121:9)[39m
[31m            at run (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/run.js:71:3)[39m
[31m            at runAndTransformResultsToJestFormat (/Users/lisizejnullahu/Documents/GitHub/secure-task-managment/node_modules/jest/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21) {[39m
[31m          matcherResult: {[39m
[31m            message: '\x1B[2mexpect(\x1B[22m\x1B[31mreceived\x1B[39m\x1B[2m).\x1B[22mtoBeTruthy\x1B[2m()\x1B[22m\n' +[39m
[31m              '\n' +[39m
[31m              'Received: \x1B[31mnull\x1B[39m',[39m
[31m            pass: false[39m
[31m          }[39m
[31m        },[39m
[31m        type: 'unhandled exception'[39m
[31m      }[39m
[2m[22m
[2m      [2mat VirtualConsole.<anonymous> ([22m[2m../../node_modules/jest-environment-jsdom/build/index.js[2m:63:23)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mAuthService - JWT Token Storage ‚Ä∫ should store JWT token in localStorage on successful login[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBeTruthy[2m()[22m

    Received: [31mnull[39m
[2m[22m
[2m    [0m [90m 47 |[39m[22m
[2m     [90m 48 |[39m         [36mconst[39m storedUser [33m=[39m localStorage[33m.[39mgetItem([32m'current_user'[39m)[22m
[2m    [31m[1m>[22m[2m[39m[90m 49 |[39m         expect(storedUser)[33m.[39mtoBeTruthy()[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 50 |[39m         [36mconst[39m parsedUser [33m=[39m [33mJSON[39m[33m.[39mparse(storedUser[33m![39m)[22m
[2m     [90m 51 |[39m         expect(parsedUser[33m.[39memail)[33m.[39mtoBe([32m'test@test.com'[39m)[22m
[2m     [90m 52 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.next ([22m[2m[0m[36msrc/app/core/services/auth.service.spec.ts[39m[0m[2m:49:28)[22m[2m[22m
[2m      [2mat ConsumerObserver.Object.<anonymous>.ConsumerObserver.next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:155:25)[22m[2m[22m
[2m      [2mat SafeSubscriber.Object.<anonymous>.Subscriber._next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:113:22)[22m[2m[22m
[2m      [2mat SafeSubscriber.Object.<anonymous>.Subscriber.next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:71:12)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/rxjs/src/internal/operators/tap.ts[2m:190:26[22m[2m[22m
[2m      [2mat OperatorSubscriber._this._next ([22m[2m../../node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts[2m:70:13)[22m[2m[22m
[2m      [2mat OperatorSubscriber.Object.<anonymous>.Subscriber.next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:71:12)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/rxjs/src/internal/operators/map.ts[2m:57:20[22m[2m[22m
[2m      [2mat OperatorSubscriber._this._next ([22m[2m../../node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts[2m:70:13)[22m[2m[22m
[2m      [2mat OperatorSubscriber.Object.<anonymous>.Subscriber.next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:71:12)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/rxjs/src/internal/operators/filter.ts[2m:72:109[22m[2m[22m
[2m      [2mat OperatorSubscriber._this._next ([22m[2m../../node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts[2m:70:13)[22m[2m[22m
[2m      [2mat OperatorSubscriber.Object.<anonymous>.Subscriber.next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:71:12)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/rxjs/src/internal/operators/mergeInternals.ts[2m:85:24[22m[2m[22m
[2m      [2mat OperatorSubscriber._this._next ([22m[2m../../node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts[2m:70:13)[22m[2m[22m
[2m      [2mat OperatorSubscriber.Object.<anonymous>.Subscriber.next ([22m[2m../../node_modules/rxjs/src/internal/Subscriber.ts[2m:71:12)[22m[2m[22m
[2m      [2mat TestRequest.flush ([22m[2m../../node_modules/@angular/common/fesm2022/http/testing.mjs[2m:74:27)[22m[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/app/core/services/auth.service.spec.ts[39m[0m[2m:59:9[22m[2m[22m
[2m      [2mat _ZoneDelegate.invoke ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:416:32)[22m[2m[22m
[2m      [2mat ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke ([22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:2176:43)[22m[2m[22m
[2m      [2mat _ZoneDelegate.invoke ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:415:38)[22m[2m[22m
[2m      [2mat ZoneImpl.run ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:147:47)[22m[2m[22m
[2m      [2mat Object.wrappedFunc ([22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:450:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mAuthService - JWT Token Storage ‚Ä∫ should store JWT token in localStorage on successful login[39m[22m

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
[2m[22m
[2m    [0m [90m 26 |[39m   })[22m
[2m     [90m 27 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 28 |[39m   it([32m'should store JWT token in localStorage on successful login'[39m[33m,[39m (done) [33m=>[39m {[22m
[2m     [90m    |[39m   [31m[1m^[22m[2m[39m[22m
[2m     [90m 29 |[39m     [36mconst[39m mockLoginResponse [33m=[39m {[22m
[2m     [90m 30 |[39m       accessToken[33m:[39m [32m'test-jwt-token-123'[39m[33m,[39m[22m
[2m     [90m 31 |[39m       user[33m:[39m {[0m[22m
[2m[22m
[2m      [2mat context.<computed> ([22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:492:43)[22m[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/app/core/services/auth.service.spec.ts[39m[0m[2m:28:3[22m[2m[22m
[2m      [2mat _ZoneDelegate.invoke ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:416:32)[22m[2m[22m
[2m      [2mat ZoneImpl.run ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:147:47)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:426:37[22m[2m[22m
[2m      [2mat context.<computed> ([22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:474:43)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/app/core/services/auth.service.spec.ts[39m[0m[2m:9:1)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mAuthService - JWT Token Storage ‚Ä∫ should store JWT token in localStorage on successful login[39m[22m

    Expected no open requests, found 1: GET http://localhost:3000/auth/me
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m     httpMock[33m.[39mverify()[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m     localStorage[33m.[39mclear()[22m
[2m     [90m 26 |[39m   })[22m
[2m     [90m 27 |[39m[0m[22m
[2m[22m
[2m      [2mat _HttpClientTestingBackend.verify ([22m[2m../../node_modules/@angular/common/fesm2022/http/testing.mjs[2m:298:19)[22m[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/app/core/services/auth.service.spec.ts[39m[0m[2m:24:14[22m[2m[22m
[2m      [2mat _ZoneDelegate.invoke ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:416:32)[22m[2m[22m
[2m      [2mat ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke ([22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:2176:43)[22m[2m[22m
[2m      [2mat _ZoneDelegate.invoke ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:415:38)[22m[2m[22m
[2m      [2mat ZoneImpl.run ([22m[2m../../node_modules/zone.js/bundles/zone.umd.js[2m:147:47)[22m[2m[22m
[2m      [2mat Object.wrappedFunc ([22m[2m../../node_modules/zone.js/bundles/zone-testing.umd.js[2m:450:38)[22m[2m[22m

[1mTest Suites: [22m[1m[31m3 failed[39m[22m, 3 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m5 passed[39m[22m, 6 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        9.757 s
[2mRan all test suites[22m[2m.[22m
